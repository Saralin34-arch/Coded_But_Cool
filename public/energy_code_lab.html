<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Energy Code Lab</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html, body {
      overflow: hidden;
      background: #e8e8e8;
      font-family: "Courier New", Courier, monospace;
      height: 100%;
      width: 100%;
    }

    .container {
      padding: 60px 80px;
      height: 100%;
    }

    .header {
      text-align: center;
      margin-bottom: 50px;
      margin-top: 50px;
    }

    .title {
      font-size: 1.4rem;
      font-weight: 400;
      color: #1f2937;
      letter-spacing: 0.15em;
      margin-bottom: 12px;
    }

    .subtitle {
      font-size: 0.9rem;
      color: #4b5563;
    }

    .content {
      display: flex;
      justify-content: space-between;
      gap: 60px;
      height: calc(100% - 150px);
      margin-top: 150px;
    }

    .section {
      flex: 1;
    }

    .section-title {
      font-size: 1.1rem;
      font-weight: 500;
      color: #1f2937;
      margin-bottom: 30px;
    }

    /* State Scale - Book Cards */
    .books-container {
      display: flex;
      gap: 24px;
    }

    .book-card {
      background: #d1d5db;
      border-radius: 8px;
      padding: 16px;
      width: 220px;
      cursor: pointer;
      transition: all 0.3s ease;
      position: relative;
    }

    .book-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 12px 30px rgba(0, 0, 0, 0.15);
    }

    .book-card .expand-icon {
      position: absolute;
      top: 12px;
      right: 12px;
      font-size: 1.1rem;
      color: #6b7280;
    }

    .book-cover {
      width: 100%;
      height: 220px;
      border-radius: 4px;
      overflow: hidden;
      margin-top: 20px;
    }

    .book-cover img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .book-cover.ashrae {
      background: linear-gradient(135deg, #1e3a5f 0%, #2d5a87 100%);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 20px;
      color: #fff;
    }

    .book-cover.ashrae .book-title {
      font-size: 1rem;
      font-weight: 700;
      text-align: center;
      line-height: 1.3;
    }

    .book-cover.ashrae .book-subtitle {
      font-size: 0.65rem;
      text-align: center;
      margin-top: 8px;
      opacity: 0.9;
    }

    .book-cover.iecc {
      background: linear-gradient(135deg, #4a7c59 0%, #6b9b7a 100%);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 20px;
      color: #fff;
    }

    .book-cover.iecc .book-year {
      font-size: 0.8rem;
      opacity: 0.8;
    }

    .book-cover.iecc .book-title {
      font-size: 2rem;
      font-weight: 700;
    }

    .book-cover.iecc .book-subtitle {
      font-size: 0.6rem;
      text-align: center;
      margin-top: 8px;
      text-transform: uppercase;
      letter-spacing: 0.05em;
    }

    /* City Scale - Button List */
    .city-list {
      display: flex;
      flex-direction: column;
      gap: 12px;
      width: 420px;
    }

    .city-btn {
      background: #c9cdd3;
      border: none;
      border-radius: 8px;
      padding: 16px 60px 16px 20px;
      font-family: inherit;
      font-size: 0.85rem;
      color: #1f2937;
      cursor: pointer;
      transition: all 0.3s ease;
      text-align: left;
      position: relative;
    }

    .city-btn::after {
      content: '↗';
      position: absolute;
      right: 16px;
      top: 50%;
      transform: translateY(-50%);
      font-size: 1.1rem;
      color: #6b7280;
    }

    .city-btn:hover {
      background: #9BB8D3;
      box-shadow: 0 4px 15px rgba(155, 184, 211, 0.4);
    }

    .city-btn:hover::after {
      color: #4b5563;
    }

    .city-btn--link {
      cursor: pointer;
    }

    .city-btn--link:hover {
      background: #9BB8D3;
      transform: translateX(4px);
    }

    /* Document Panel with Folded Corner */
    .document-panel-wrapper {
      position: relative;
      flex-shrink: 0;
      width: 320px;
      height: 420px;
      margin-right: 80px;
    }

    .document-panel {
      width: 100%;
      height: 100%;
      background-image: url('memo-bg.png');
      background-size: cover;
      background-position: center;
      position: relative;
      padding: 40px 30px;
      margin-left: -80px;
    }

    /* Hide the fold element since we're using an image */
    .document-fold {
      display: none;
    }

    .document-content {
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .document-content.visible {
      opacity: 1;
    }

    .document-title {
      font-size: 1.2rem;
      font-weight: 400;
      color: #1f2937;
      margin-bottom: 8px;
    }

    .document-subtitle {
      font-size: 0.85rem;
      color: #d4a574;
      margin-bottom: 16px;
      padding-bottom: 16px;
      border-bottom: 1px solid #d4a574;
    }

    .document-description {
      font-size: 0.85rem;
      color: #4b5563;
      line-height: 1.8;
    }

    .document-placeholder {
      color: #b8a88a;
      font-size: 0.9rem;
      text-align: center;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      opacity: 0.6;
    }

    .document-content.visible + .document-placeholder {
      display: none;
    }

  </style>
</head>
<body>

<div class="container">
  <div class="header">
    <h1 class="title">ENERGY CODE LAB</h1>
    <p class="subtitle">Collected kit of tools around computational energy compliance analysis</p>
  </div>

  <div class="content">
    <!-- State Scale Section -->
    <div class="section">
      <h2 class="section-title">State — Scale Component</h2>
      <div class="books-container">
        <div class="book-card" 
             data-title="ASHRAE 90.1"
             data-subtitle="Energy Standard for Buildings"
             data-description="ASHRAE Standard 90.1 provides minimum requirements for energy-efficient design of most buildings. It covers building envelope, HVAC, service water heating, power, lighting, and other equipment. The standard is updated every 3 years and serves as the baseline for commercial building energy codes nationwide.">
          <span class="expand-icon">↗</span>
          <div class="book-cover">
            <img src="ashrae-cover.png" alt="ASHRAE 90.1 User's Manual Cover">
          </div>
        </div>

        <div class="book-card"
             data-title="IECC 2024"
             data-subtitle="International Energy Conservation Code"
             data-description="The International Energy Conservation Code (IECC) establishes minimum energy efficiency requirements for residential and commercial buildings. It covers thermal envelope, mechanical systems, lighting, and power. Most U.S. states adopt or reference IECC as part of their building energy codes.">
          <span class="expand-icon">↗</span>
          <div class="book-cover">
            <img src="iecc-cover.png" alt="IECC 2024 Cover">
          </div>
        </div>
      </div>
    </div>

    <!-- City Scale Section -->
    <div class="section" style="display: flex; flex-direction: column; align-items: flex-end; margin-right: 60px;">
      <h2 class="section-title" style="width: 420px; text-align: left;">City — Scale Component</h2>
      <div class="city-list">
        <button class="city-btn city-btn--link" 
                data-title="New York City"
                data-subtitle="Local Law 97"
                data-description="NYC's Climate Mobilization Act includes Local Law 97, requiring buildings over 25,000 sq ft to meet carbon emission limits starting in 2024, with stricter limits in 2030. Penalties apply for non-compliance."
                onclick="navigateToLL97()">
          New York City : Local Law 97
        </button>
        <button class="city-btn"
                data-title="Los Angeles"
                data-subtitle="EBEWE Ordinance"
                data-description="LA's Existing Buildings Energy & Water Efficiency (EBEWE) program requires benchmarking, audits, and retro-commissioning for buildings over 20,000 sq ft. Compliance cycles run every 5 years.">
          Los Angeles : EBEWE Ordinance
        </button>
        <button class="city-btn"
                data-title="Florida"
                data-subtitle="Florida Building Code - Energy"
                data-description="Florida adopts a state-specific version of the IECC with amendments for the tropical climate. The Florida Building Code Energy Conservation chapter sets requirements for both residential and commercial buildings.">
          Florida : Building Code - Energy
        </button>
        <button class="city-btn"
                data-title="Seattle"
                data-subtitle="Building Tune-Ups Ordinance"
                data-description="Seattle requires periodic operational tune-ups for commercial buildings over 50,000 sq ft. The program focuses on optimizing existing building systems to reduce energy waste without major capital investments.">
          Seattle : Building Tune-Ups
        </button>
        <button class="city-btn"
                data-title="Boston"
                data-subtitle="BERDO 2.0"
                data-description="Boston's Building Emissions Reduction and Disclosure Ordinance (BERDO 2.0) sets declining carbon emission standards for large buildings, targeting net-zero emissions by 2050.">
          Boston : BERDO 2.0
        </button>
      </div>
    </div>

    <!-- Document Panel -->
    <div class="document-panel-wrapper">
      <div class="document-panel" id="document-panel">
        <div class="document-content" id="document-content">
          <div class="document-title" id="document-title"></div>
          <div class="document-subtitle" id="document-subtitle"></div>
          <div class="document-description" id="document-description"></div>
        </div>
        <div class="document-placeholder">Hover over a component<br>to view details</div>
      </div>
      <div class="document-fold"></div>
    </div>
  </div>
</div>

<script>
const documentContent = document.getElementById('document-content');
const documentTitle = document.getElementById('document-title');
const documentSubtitle = document.getElementById('document-subtitle');
const documentDescription = document.getElementById('document-description');

// Navigate to LL97 Package page
function navigateToLL97() {
  try {
    // Try to scroll parent window to the LL97 section
    if (window.top && window.top !== window) {
      const targetSection = window.top.document.getElementById('ll97-package');
      if (targetSection) {
        targetSection.scrollIntoView({ behavior: 'smooth' });
      } else {
        window.top.location.hash = '#ll97-package';
      }
    } else if (window.parent && window.parent !== window) {
      const targetSection = window.parent.document.getElementById('ll97-package');
      if (targetSection) {
        targetSection.scrollIntoView({ behavior: 'smooth' });
      } else {
        window.parent.location.hash = '#ll97-package';
      }
    }
  } catch (e) {
    // If cross-origin issues, try hash navigation
    window.top.location.hash = '#ll97-package';
  }
}

// Show content in document panel
function showInPanel(element) {
  if (element.dataset.title) {
    documentTitle.textContent = element.dataset.title;
    documentSubtitle.textContent = element.dataset.subtitle;
    documentDescription.textContent = element.dataset.description;
    documentContent.classList.add('visible');
  }
}

function hidePanel() {
  documentContent.classList.remove('visible');
}

// Book cards hover
document.querySelectorAll('.book-card').forEach(card => {
  card.addEventListener('mouseenter', () => showInPanel(card));
  card.addEventListener('mouseleave', hidePanel);
});

// City buttons hover
document.querySelectorAll('.city-btn').forEach(btn => {
  btn.addEventListener('mouseenter', () => showInPanel(btn));
  btn.addEventListener('mouseleave', hidePanel);
});
</script>

</body>
</html>

